(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e1f6"],{d3e6:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v("Editar publicación")]),t.contentData?a("form",{on:{submit:function(e){return e.preventDefault(),t.sendEditContent(e)}}},[a("div",{staticClass:"md-form"},[a("i",{staticClass:"fas fa-file-alt prefix"}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.contentData.description,expression:"contentData.description",modifiers:{trim:!0}}],ref:"description",staticClass:"form-control validate",attrs:{type:"text",required:""},domProps:{value:t.contentData.description},on:{input:function(e){e.target.composing||t.$set(t.contentData,"description",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("label",{attrs:{"data-error":"error","data-success":"correcto"}},[t._v("Descripción o nombre")])]),a("wysiwyg",{model:{value:t.contentData.content,callback:function(e){t.$set(t.contentData,"content",e)},expression:"contentData.content"}}),a("div",{staticClass:"md-from mt-3"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contentData.published,expression:"contentData.published"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"defaultIndeterminate2"},domProps:{checked:Array.isArray(t.contentData.published)?t._i(t.contentData.published,null)>-1:t.contentData.published},on:{change:function(e){var a=t.contentData.published,n=e.target,s=!!n.checked;if(Array.isArray(a)){var i=null,o=t._i(a,i);n.checked?o<0&&t.$set(t.contentData,"published",a.concat([i])):o>-1&&t.$set(t.contentData,"published",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.contentData,"published",s)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"defaultIndeterminate2"},on:{click:function(e){return t.publishedState()}}},[t._v("Publicado")])])]),a("div",{staticClass:"md-form"},[a("i",{staticClass:"fas fa-pencil-alt prefix"}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.contentData.metaDescription,expression:"contentData.metaDescription",modifiers:{trim:!0}}],staticClass:"form-control validate",attrs:{type:"text"},domProps:{value:t.contentData.metaDescription},on:{input:function(e){e.target.composing||t.$set(t.contentData,"metaDescription",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("label",{ref:"metaDescription",attrs:{"data-error":"error","data-success":"correcto"}},[t._v("Meta descripción")])]),a("div",{staticClass:"md-form"},[a("i",{staticClass:"fas fa-tags prefix"}),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.contentData.metaLabel,expression:"contentData.metaLabel",modifiers:{trim:!0}}],ref:"metaLabel",staticClass:"form-control validate",attrs:{type:"text"},domProps:{value:t.contentData.metaLabel},on:{input:function(e){e.target.composing||t.$set(t.contentData,"metaLabel",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),a("label",{attrs:{"data-error":"error","data-success":"correcto"}},[t._v("Meta etiqueta")])]),t._m(0)],1):t._e()])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn btn-outline-elegant waves-effect"},[t._v("Modificar contenido")])])}],i=(a("96cf"),a("3b8d")),o=a("ae12"),r={name:"EditPageAndNews",created:function(){this.$store.dispatch("getPosts")},mounted:function(){this.focusInput(),this.contentData=this.$store.getters.getPostByAlias(this.$route.params.id),this.contentData.published="true"===this.contentData.published},data:function(){return{contentData:{}}},methods:{publishedState:function(){this.contentData.published=!this.contentData.published},focusInput:function(){this.$refs.description.focus()},sendEditContent:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o["a"].edit(this.contentData,this.contentData._id);case 3:return e=t.sent,t.next=6,e.json();case 6:a=t.sent,a.success?(this.$store.dispatch("getPosts"),toastr.success(a.message,{preventDuplicates:!0,positionClass:"toast-bottom-full-width",timeOut:"10000"}),this.$router.push("/panel/novedades")):toastr.error(a.message,{preventDuplicates:!0,positionClass:"toast-bottom-full-width",timeOut:"10000"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),toastr.error("Error de servicio de novedades.",{preventDuplicates:!0,positionClass:"toast-bottom-full-width",timeOut:"10000"});case 13:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}()}},c=r,l=a("2877"),u=Object(l["a"])(c,n,s,!1,null,null,null);e["default"]=u.exports}}]);